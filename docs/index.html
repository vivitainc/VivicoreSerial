<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VivicoreSerial library: What&#39;s this</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VivicoreSerial library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">What's this </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Library to talk with VIVIWARE Cell Core.</p>
<p><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a> library works on ATmega328PB which has 2 UART ports. One is for talking with VIVIWARE Cell Core, another is for flashing and debugging.</p>
<p>The official sketches of VIVIWARE Cell Branch are included as examples code.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Requisites</h1>
<p>The below table shows the corresponding Arduino IDE version <a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a> library requires. Refer to <a href="#how-to-setup">How to setup</a> to install Arduino IDE and configure the board and library manager.</p>
<table class="doxtable">
<tr>
<th>Arduino IDE version </th><th><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a> version managed on Library Manager </th><th><code>LIBRARY_VER_BUILD_NO</code> defined on <code><a class="el" href="_vivicore_serial_version_8h.html" title="VivicoreSerial library version definition. ">VivicoreSerialVersion.h</a></code> </th><th>Description  </th></tr>
<tr>
<td>1.8.12 (Required) </td><td>1.0.0 or later </td><td>0x0005 or later </td><td><ul>
<li>
64bit compatibility with upcoming macOS Catalina</li>
<li>
avr-gcc 7.3.0-atmel3.6.1-arduino5</li>
</ul>
</td></tr>
<tr>
<td>1.8.7 </td><td>- </td><td>0x0004 or before </td><td><ul>
<li>
avr-gcc 5.4.0</li>
</ul>
</td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2"></a>
Dependencies and lisence information</h1>
<p><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a> library depends on Arduino core and libraries, and ATmegaBOOT.</p>
<p>And a part of the official sketches of VIVIWARE Cell Branch included as examples code depends on the following version's library modules. The library modules are neccessary to be installed on library manager or with archived zip file on Github if building examples code.</p>
<table class="doxtable">
<tr>
<th>Module</th><th>Lisence and the link to the original  </th></tr>
<tr>
<td><a href="https://github.com/adafruit/Adafruit_APDS9960/releases/tag/1.1.4">Adafruit_APDS9960 v1.1.4</a></td><td><a href="https://github.com/adafruit/Adafruit_APDS9960/blob/master/license.txt">BSD-3-Clause</a> </td></tr>
<tr>
<td><a href="https://github.com/pololu/vl53l0x-arduino/releases/tag/1.0.2">vl53l0x-arduino v1.0.2</a></td><td><a href="https://github.com/pololu/vl53l0x-arduino/blob/master/LICENSE.txt">MIT (pololu), BSD-3-Clause (STMicroelectronics)</a> </td></tr>
<tr>
<td><a href="https://github.com/vivitainc/Arduino-LSM6DS3-LSM6DS3TRC/releases/tag/1.0.0">Arduino-LSM6DS3-LSM6DS3TRC v1.0.0</a></td><td><a href="https://github.com/STMicroelectronics/STMems_Standard_C_drivers/blob/master/LICENSE">BSD-3-Clause</a> </td></tr>
<tr>
<td><a href="https://github.com/vivitainc/Arduino-misakiUTF16/releases/tag/1.02a">Arduino-misakiUTF16 v1.02a</a></td><td><a href="https://github.com/Tamakichi/Arduino-misakiUTF16">Free software lisence</a><br />
本フォントライブラリは、「美咲フォント」と同様にフリー（自由な）ソフトウエアです。<br />
あらゆる改変の有無に関わらず、また商業的な利用であっても、自由にご利用、複製、再配布することができます。<br />
ただし、全て無保証とさせていただきます。 </td></tr>
<tr>
<td>Misaki font (included in Arduino-misakiUTF16)</td><td><a href="https://littlelimit.net/font.htm#license">Free software lisence</a><br />
These fonts are free software.<br />
Unlimited permission is granted to use, copy, and distribute them, with or without modification, either commercially or noncommercially.<br />
THESE FONTS ARE PROVIDED "AS IS" WITHOUT WARRANTY. </td></tr>
<tr>
<td>Arduino core and libraries (included in Arduino IDE)</td><td><a href="https://github.com/arduino/Arduino/blob/master/license.txt">LGPLv2.1</a> </td></tr>
<tr>
<td><a href="https://github.com/vivitainc/custom_cell_boards/blob/master/bootloaders/atmega/ATmegaBOOT_168.c">ATmegaBOOT</a> (included in board package setup on <a href="#how-to-setup">How to setup</a>)</td><td><a href="https://github.com/arduino/ArduinoCore-avr/blob/master/bootloaders/atmega/ATmegaBOOT_168.c">GPLv2</a> </td></tr>
</table>
<p><b>NOTE:</b> The following libraries cannot be found on Library Manager, and need to be installed by zip archive got from the above Github link if you build and upload the examples code depending them.</p><ul>
<li>Arduino-misakiUTF16</li>
<li>Arduino-LSM6DS3-LSM6DS3TRC</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
How to setup</h1>
<p>This instruction describes how to setup Arduino IDE to build VIVIWARE Cell Custom sketch and upload it to the board.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Install and configure Arduino IDE</h2>
<ol type="1">
<li>Download and install the required Arduino IDE version written on <a href="#requisites">requisites</a> which is available on <a href="https://www.arduino.cc/en/Main/Software">Arduino official site top</a> or <a href="https://www.arduino.cc/en/Main/OldSoftwareReleases#previous">Previous IDE Releases</a>.<ul>
<li>For Windows, <b>use Windows Installer exe file but not zip file</b></li>
<li>On Board Manager in Arduino IDE, <b>do not update built-in packages (e.g. Arduino AVR Boards)</b> to avoid unexpected built result mismatch. Use default build-in packages bundled with the required Arduino IDE version.</li>
</ul>
</li>
<li>Open <code>Preferences</code> of Arduino IDE.</li>
<li>Add URL <code><a href="https://raw.githubusercontent.com/vivitainc/custom_cell_boards/master/package_viviware_index.json">https://raw.githubusercontent.com/vivitainc/custom_cell_boards/master/package_viviware_index.json</a></code> into <code>Additional Boards Manager URLs</code> text box, and press <code>OK</code> button.</li>
</ol>
<h2><a class="anchor" id="autotoc_md5"></a>
Setup Boards Manager</h2>
<ol type="1">
<li>Open Arduino IDE and the menu <code>Tools</code> &gt; <code>Board:</code> &gt; <code>Boards Manager...</code>.</li>
<li>Select <code>Type</code> of <code>All</code> or <code>Contributed</code>, enter <code>viviware</code> into text box, and find <code>VIVIWARE Cell Custom Boards</code>.</li>
<li>Select the latest version of <code>VIVIWARE Cell Custom Boards</code> (e.g. <code>1.0.1</code>), and press <code>Install</code> button.</li>
<li>After a while, check the status <code>INSTALLED</code> shown on right side of the version.</li>
<li>Close <code>Boards Manager</code> by pressing <code>Close</code> button.</li>
</ol>
<h2><a class="anchor" id="autotoc_md6"></a>
Setup Library Manager</h2>
<ol type="1">
<li>Open Arduino IDE and the menu <code>Sketch</code> &gt; <code>Include Library</code> &gt; <code>Manage Libraries...</code>.</li>
<li>Select <code>Type</code> of <code>All</code> or <code>Contributed</code>, select <code>Topic</code> of <code>All</code> or <code>Communication</code>, and enter <code><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a></code> into text box, and find <code><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a></code> library.</li>
<li>Select the latest version of <code><a class="el" href="class_vivicore_serial.html" title="This class is for branch to talk with core. ">VivicoreSerial</a></code> (e.g. <code>1.0.0</code>), and press <code>Install</code> button.</li>
<li>After a while, check the status <code>INSTALLED</code> shown on right side of the version.</li>
<li>Close <code>Library Manager</code> by pressing <code>Close</code> button.</li>
</ol>
<h2><a class="anchor" id="autotoc_md7"></a>
Build and upload sketch</h2>
<ol type="1">
<li>Open new sketch on Arduino IDE.</li>
<li>Copy the template code generated by VIVIWARE Developer and paste it to the new sketch.</li>
<li>Select board <code>VIVIWARE Cell</code> in the menu <code>Tools</code> &gt; <code>Board:</code>.</li>
<li>Select version <code>Custom</code> in the menu <code>Tools</code> &gt; <code>Version:</code>.</li>
<li>Select port connected to VIVIWARE Cell Custom board in the menu <code>Tools</code> &gt; <code>Port:</code>.</li>
<li>Press <code>Upload</code> button.</li>
</ol>
<h1><a class="anchor" id="autotoc_md8"></a>
Only for VivicoreSerial library developer</h1>
<p>Refer to https://github.com/vivitainc/branch_cell/blob/develop/README.md "README" for library developer.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
VivicoreSerial version history on Library Manager</h1>
<ul>
<li>2.0.0 : Add features or fix issues as the following<ul>
<li>Update UART protocol v7 to change the baudrate to 50k from 100k to avoid dropping data</li>
<li>Improve interface of begin, available, read, write, and flush</li>
<li>Update examples ino to support the latest library interface</li>
</ul>
</li>
<li>1.1.0 : Add features or fix issues as the following<ul>
<li>Send stored TX data set in discovery sequence</li>
<li>Make initial value to be able to override and send as DC_INI</li>
<li>Update examples ino to support the latest library interface</li>
</ul>
</li>
<li>1.0.2 : Fix github URL for Library Manager</li>
<li>1.0.1 : Replace public README</li>
<li>1.0.0 : First version for Library Manager </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
